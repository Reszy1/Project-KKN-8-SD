import{s as g,p as E,c as r,a as h,u as i,h as Z,b as e,j as x,w as C,o,t as l,i as f,F as b,R as p,L as y,a2 as M,q as N,r as m,v as S,a4 as D,l as J,z as Q,a1 as P}from"./app-j5Ti9vKF.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const X={class:"min-h-screen bg-[#F8FAFC] font-sans text-gray-800 relative"},ee=["src"],te={key:0,class:"fixed inset-0 bg-black/40 z-[120] flex items-center justify-center p-4 backdrop-blur-sm"},se={class:"bg-white w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]"},ae={class:"bg-gradient-to-r from-blue-500 to-indigo-600 p-6 text-white flex justify-between items-start"},le={class:"flex items-center gap-4"},re={class:"w-16 h-16 rounded-full bg-white text-blue-600 flex items-center justify-center text-2xl font-bold shadow-lg"},oe={class:"text-2xl font-bold"},ne={class:"opacity-90"},ie={class:"p-6 overflow-y-auto"},de={class:"grid grid-cols-2 gap-4 mb-6"},ue={class:"bg-orange-50 p-4 rounded-xl border border-orange-100 text-center"},ce={class:"text-3xl font-black text-orange-600"},xe={class:"bg-gray-50 p-4 rounded-xl border border-gray-100 text-center flex flex-col justify-center"},be={class:"text-lg font-bold text-gray-700"},ge={key:0,class:"space-y-3"},fe={class:"w-10 h-10 rounded-lg bg-white border border-gray-200 flex items-center justify-center text-lg shadow-sm"},pe={class:"flex-1"},me={class:"font-bold text-sm text-gray-800"},ve={class:"text-xs text-gray-500"},ye={key:1,class:"text-center py-8 text-gray-400 border-2 border-dashed rounded-xl"},he={class:"p-4 border-t bg-gray-50 flex justify-end"},we={key:0,class:"fixed inset-0 bg-black/40 z-[100] flex items-center justify-center p-4 backdrop-blur-sm"},ke={class:"bg-white w-full max-w-md rounded-2xl p-6 shadow-2xl border border-gray-100"},_e={class:"bg-gray-50 p-4 rounded-xl border border-gray-100"},je={class:"flex flex-wrap gap-2"},Ce=["onClick"],Se={key:0,class:"fixed inset-0 bg-black/40 z-[100] flex items-center justify-center p-4 backdrop-blur-sm"},Ae={class:"bg-white w-full max-w-lg rounded-2xl p-8 shadow-2xl border border-gray-100"},$e={class:"flex justify-between items-center mb-6 border-b pb-4"},Ke={class:"grid grid-cols-2 gap-4"},Me=["value"],De={class:"grid grid-cols-2 gap-4"},Pe={class:"bg-white shadow-sm border-b px-6 md:px-10 py-4 flex justify-between items-center sticky top-0 z-40"},Be={class:"p-4 md:p-8 max-w-7xl mx-auto space-y-8"},Te={class:"flex flex-col md:flex-row justify-between items-end md:items-center gap-4 bg-white p-6 rounded-2xl border border-gray-100 shadow-sm"},Le={class:"flex items-center gap-3 bg-gray-50 p-1.5 rounded-xl border border-gray-200"},Fe={class:"relative"},Ie=["value"],Ve={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ze={class:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-5"},Ee={class:"text-3xl font-black text-gray-800"},Ne={class:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-5"},Ue={class:"text-3xl font-black text-gray-800"},Re={class:"bg-gradient-to-r from-orange-400 to-pink-500 p-6 rounded-2xl shadow-lg text-white flex items-center justify-between"},Ge={class:"relative z-10"},He={class:"text-2xl font-black"},qe={key:0,class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},Oe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Ye={class:"flex justify-between items-center mb-6 pb-2 border-b border-gray-200"},Ze={class:"font-black text-gray-800 text-xl"},Je={class:"grid grid-cols-3 gap-2"},Qe={class:"flex flex-col items-center text-center"},We={class:"relative w-16 h-16 md:w-20 md:h-20"},Xe={class:"w-full h-full -rotate-90",viewBox:"0 0 100 100"},et=["stroke-dasharray","stroke-dashoffset"],tt={class:"absolute inset-0 flex items-center justify-center font-black text-blue-600 text-sm md:text-base"},st={class:"flex flex-col items-center text-center"},at={class:"relative w-16 h-16 md:w-20 md:h-20"},lt={class:"w-full h-full -rotate-90",viewBox:"0 0 100 100"},rt=["stroke-dasharray","stroke-dashoffset"],ot={class:"absolute inset-0 flex items-center justify-center font-black text-green-600 text-sm md:text-base"},nt={class:"flex flex-col items-center text-center"},it={class:"relative w-16 h-16 md:w-20 md:h-20"},dt={class:"w-full h-full -rotate-90",viewBox:"0 0 100 100"},ut=["stroke-dasharray","stroke-dashoffset"],ct={class:"absolute inset-0 flex items-center justify-center font-black text-pink-600 text-sm md:text-base"},xt={class:"grid grid-cols-1 xl:grid-cols-3 gap-8"},bt={class:"xl:col-span-2 space-y-6"},gt={class:"grid gap-4"},ft={class:"w-full sm:w-32 h-32 bg-gray-100 rounded-xl overflow-hidden flex-shrink-0 border border-gray-200 relative group/img"},pt=["src","onClick"],mt={key:1,class:"w-full h-full flex flex-col items-center justify-center text-gray-300 text-xs text-center p-2 bg-orange-50 text-orange-400 font-bold"},vt={key:2,class:"absolute inset-0 bg-black/20 opacity-0 group-hover/img:opacity-100 flex items-center justify-center transition-opacity pointer-events-none"},yt={class:"flex-1 py-1 flex flex-col justify-between"},ht={class:"flex justify-between items-start"},wt=["onClick"],kt={class:"text-xs font-bold text-gray-400 uppercase tracking-wide"},_t={class:"text-xs text-gray-400 font-medium bg-gray-50 px-2 py-1 rounded-md"},jt={class:"mt-2 flex flex-wrap gap-2"},Ct={class:"inline-flex items-center gap-1.5 text-xs font-black px-2.5 py-1.5 rounded-lg border bg-gray-50 text-gray-600 border-gray-200"},St={key:0,class:"flex flex-col items-center justify-center py-16 bg-white rounded-2xl border border-dashed border-gray-300"},At={class:"space-y-4"},$t={class:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden flex flex-col h-[600px]"},Kt={class:"p-4 border-b border-gray-100 bg-white sticky top-0 z-10 flex justify-between items-center"},Mt={class:"text-xs font-bold text-gray-400 uppercase tracking-wider"},Dt={class:"overflow-y-auto flex-1 p-2 space-y-1 custom-scrollbar"},Pt=["onClick"],Bt={class:"flex-1 min-w-0"},Tt={class:"font-bold text-sm text-gray-800 truncate group-hover:text-blue-600"},Lt={class:"flex items-center gap-2 text-xs text-gray-500"},Ft={class:"bg-gray-100 px-1.5 rounded text-gray-600 font-medium"},It={class:"text-orange-500 font-bold"},Vt={key:0,class:"h-full flex flex-col items-center justify-center text-center p-8 text-gray-400"},zt={__name:"Dashboard",props:{stats:Object,recentActivities:Array,students:Array,classList:Array,analysis:Array},setup(n){const B=n,w=g(!1),k=g(!1),_=g(!1),A=g(!1),$=g(B.stats.filter_active||""),u=g(null),T=g(""),j=E({name:""}),d=E({name:"",gender:"L",class_name:"",absent_no:"",password:"123"}),K=(a,t)=>{const s=2*Math.PI*t;return s-(a||0)/100*s},v=a=>a?a>=80?{label:"Sangat Paham",color:"text-green-600"}:a>=60?{label:"Cukup Paham",color:"text-yellow-600"}:{label:"Perlu Bimbingan",color:"text-red-500"}:{label:"Belum Ada Data",color:"text-gray-400"},L=a=>a==="brushing"?"Sikat Gigi":a==="handwashing"?"Cuci Tangan":a==="reproductive"?"Kuis Tubuhku":"Aktivitas",F=a=>{if(a.duration_seconds===null||a.duration_seconds===void 0)return"-";if(a.proof_image){const s=Math.floor(a.duration_seconds/60),c=a.duration_seconds%60;return`${s}m ${c}d`}return`Skor: ${isNaN(a.duration_seconds)?0:a.duration_seconds}`},U=a=>a==="brushing"?"bg-blue-100 text-blue-700 border-blue-200":a==="handwashing"?"bg-green-100 text-green-700 border-green-200":a==="reproductive"?"bg-pink-100 text-pink-700 border-pink-200":"bg-gray-100 text-gray-700",I=Q(()=>u.value?B.recentActivities.filter(a=>a.student_name===u.value.name):[]),V=a=>{u.value=a,_.value=!0},R=a=>{T.value=a,A.value=!0},G=()=>{j.post("/teacher/class",{onSuccess:()=>{w.value=!1,j.reset()}})},H=()=>{d.post("/teacher/student",{onSuccess:()=>{k.value=!1,d.reset()}})},q=a=>{confirm("Yakin hapus kelas ini? Data siswa di dalamnya juga akan terhapus.")&&P.delete(`/teacher/class/${a}`)},O=a=>{confirm("Yakin ingin mengeluarkan siswa ini? Data poin akan hilang.")&&(P.delete(`/teacher/student/${a}`),_.value=!1)},Y=()=>{P.get("/teacher/dashboard",{class_name:$.value},{preserveState:!0,preserveScroll:!0,only:["stats","recentActivities","students","analysis"]})},z=a=>a.split(" ").map(t=>t[0]).join("").substring(0,2).toUpperCase();return(a,t)=>(o(),r(b,null,[h(i(Z),{title:"Dashboard Guru"}),e("div",X,[A.value?(o(),r("div",{key:0,class:"fixed inset-0 z-[150] bg-black/90 flex items-center justify-center p-4 cursor-zoom-out",onClick:t[0]||(t[0]=s=>A.value=!1)},[e("img",{src:`/storage/${T.value}`,class:"max-w-full max-h-screen rounded-lg shadow-2xl border-4 border-white"},null,8,ee),t[14]||(t[14]=e("button",{class:"absolute top-4 right-4 text-white text-4xl"},"√ó",-1))])):x("",!0),h(M,{"enter-active-class":"transition duration-200","enter-from-class":"opacity-0 translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-4"},{default:C(()=>[_.value&&u.value?(o(),r("div",te,[e("div",se,[e("div",ae,[e("div",le,[e("div",re,l(z(u.value.name)),1),e("div",null,[e("h3",oe,l(u.value.name),1),e("p",ne,"Kelas "+l(u.value.class)+" ‚Ä¢ No. Absen "+l(u.value.absent_no||"-"),1)])]),e("button",{onClick:t[1]||(t[1]=s=>_.value=!1),class:"text-white/70 hover:text-white text-2xl"},"√ó")]),e("div",ie,[e("div",de,[e("div",ue,[t[15]||(t[15]=e("p",{class:"text-orange-600 text-xs font-bold uppercase"},"Total Poin",-1)),e("p",ce,l(u.value.total_points)+" üåü",1)]),e("div",xe,[t[16]||(t[16]=e("p",{class:"text-gray-500 text-xs font-bold uppercase"},"Jenis Kelamin",-1)),e("p",be,l(u.value.gender==="L"?"Laki-laki üë¶":"Perempuan üëß"),1)])]),t[17]||(t[17]=e("h4",{class:"font-bold text-gray-700 mb-3 flex items-center gap-2"},[e("span",null,"üìÖ"),f(" Riwayat Aktivitas Terkini ")],-1)),I.value.length>0?(o(),r("div",ge,[(o(!0),r(b,null,p(I.value,s=>(o(),r("div",{key:s.id,class:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border border-gray-100"},[e("div",fe,l(["brushing"].includes(s.activity_type)?"ü™•":["handwashing"].includes(s.activity_type)?"üßº":"üìù"),1),e("div",pe,[e("p",me,l(L(s.activity_type)),1),e("p",ve,l(s.time),1)]),e("div",{class:y(["font-bold text-sm",s.proof_image?"text-blue-600":"text-orange-600"])},l(F(s)),3)]))),128))])):(o(),r("div",ye," Belum ada aktivitas tercatat di feed terbaru. "))]),e("div",he,[e("button",{onClick:t[2]||(t[2]=s=>O(u.value.id)),class:"text-red-500 hover:bg-red-50 px-4 py-2 rounded-lg text-sm font-bold transition-colors"}," Hapus Siswa Ini üóëÔ∏è ")])])])):x("",!0)]),_:1}),h(M,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:C(()=>[w.value?(o(),r("div",we,[e("div",ke,[t[20]||(t[20]=e("h3",{class:"text-xl font-bold mb-4 text-gray-800"},"Tambah Kelas Baru",-1)),e("form",{onSubmit:N(G,["prevent"]),class:"flex gap-2 mb-6"},[m(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>i(j).name=s),type:"text",placeholder:"Nama Kelas (misal: 1B)",class:"flex-1 border-2 border-gray-200 rounded-xl px-4 py-3 focus:border-blue-500 outline-none transition-colors",required:""},null,512),[[S,i(j).name]]),t[18]||(t[18]=e("button",{type:"submit",class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-bold transition-all shadow-lg shadow-blue-200"},"Simpan",-1))],32),e("div",_e,[t[19]||(t[19]=e("h4",{class:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3"},"Kelas Terdaftar:",-1)),e("div",je,[(o(!0),r(b,null,p(n.classList,s=>(o(),r("span",{key:s.id,class:"bg-white border border-gray-200 px-3 py-1.5 rounded-lg text-sm font-medium flex items-center gap-2 shadow-sm"},[f(l(s.name)+" ",1),e("button",{onClick:c=>q(s.id),class:"text-gray-400 hover:text-red-500 w-5 h-5 flex items-center justify-center rounded-full hover:bg-red-50"},"√ó",8,Ce)]))),128))])]),e("button",{onClick:t[4]||(t[4]=s=>w.value=!1),class:"mt-6 text-gray-400 hover:text-gray-600 w-full text-center text-sm font-bold"},"Batal")])])):x("",!0)]),_:1}),h(M,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:C(()=>[k.value?(o(),r("div",Se,[e("div",Ae,[e("div",$e,[t[21]||(t[21]=e("h3",{class:"text-2xl font-bold text-gray-800"},"Input Data Murid",-1)),e("button",{onClick:t[5]||(t[5]=s=>k.value=!1),class:"text-gray-400 hover:text-gray-600"},"‚úï")]),e("form",{onSubmit:N(H,["prevent"]),class:"space-y-5"},[e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-bold text-gray-600 mb-2"},"Nama",-1)),m(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>i(d).name=s),type:"text",class:"w-full border-2 border-gray-200 rounded-xl px-4 py-3",required:""},null,512),[[S,i(d).name]])]),e("div",Ke,[e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-bold text-gray-600 mb-2"},"Gender",-1)),m(e("select",{"onUpdate:modelValue":t[7]||(t[7]=s=>i(d).gender=s),class:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 bg-white"},[...t[23]||(t[23]=[e("option",{value:"L"},"Laki-laki",-1),e("option",{value:"P"},"Perempuan",-1)])],512),[[D,i(d).gender]])]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-bold text-gray-600 mb-2"},"Kelas",-1)),m(e("select",{"onUpdate:modelValue":t[8]||(t[8]=s=>i(d).class_name=s),class:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 bg-white"},[(o(!0),r(b,null,p(n.classList,s=>(o(),r("option",{value:s.name},l(s.name),9,Me))),256))],512),[[D,i(d).class_name]])])]),e("div",De,[e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-bold text-gray-600 mb-2"},"Absen",-1)),m(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>i(d).absent_no=s),type:"number",class:"w-full border-2 border-gray-200 rounded-xl px-4 py-3"},null,512),[[S,i(d).absent_no]])]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-bold text-gray-600 mb-2"},"Pass",-1)),m(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>i(d).password=s),type:"text",class:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 bg-gray-50"},null,512),[[S,i(d).password]])])]),t[28]||(t[28]=e("button",{type:"submit",class:"w-full bg-green-600 text-white py-3.5 rounded-xl font-bold hover:bg-green-700 shadow-lg mt-4"},"Simpan Data",-1))],32)])])):x("",!0)]),_:1}),e("nav",Pe,[t[30]||(t[30]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center text-xl shadow-lg shadow-blue-200"},"üë®‚Äçüè´"),e("div",null,[e("h1",{class:"text-lg font-bold text-gray-800 leading-tight"},"Ruang Guru"),e("p",{class:"text-xs text-gray-400 font-medium"},"Panel Admin Sekolah")])],-1)),h(i(J),{href:"/",method:"post",as:"button",class:"text-gray-400 font-bold text-sm hover:text-red-500 transition-colors flex items-center gap-2 px-4 py-2 hover:bg-red-50 rounded-lg"},{default:C(()=>[...t[29]||(t[29]=[e("span",null,"Keluar",-1),e("span",{class:"text-lg"},"‚Ü™",-1)])]),_:1})]),e("main",Be,[e("div",Te,[t[34]||(t[34]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-800"},"Ringkasan Sekolah"),e("p",{class:"text-gray-500 mt-1"},"Pantau perkembangan siswa")],-1)),e("div",Le,[e("div",Fe,[m(e("select",{"onUpdate:modelValue":t[11]||(t[11]=s=>$.value=s),onChange:Y,class:"bg-white border border-gray-200 rounded-lg pl-4 pr-10 py-2.5 text-sm font-bold text-gray-600 outline-none cursor-pointer focus:border-blue-500 shadow-sm hover:border-gray-300 transition-colors appearance-none"},[t[31]||(t[31]=e("option",{value:""},"Semua Kelas",-1)),(o(!0),r(b,null,p(n.classList,s=>(o(),r("option",{key:s.id,value:s.name},"Kelas "+l(s.name),9,Ie))),128))],544),[[D,$.value]]),t[32]||(t[32]=e("div",{class:"absolute inset-y-0 right-3 flex items-center pointer-events-none text-gray-400 text-xs"},"‚ñº",-1))]),e("button",{onClick:t[12]||(t[12]=s=>w.value=!0),class:"bg-white text-blue-600 px-4 py-2.5 rounded-lg text-sm font-bold border border-blue-100 hover:bg-blue-50 flex items-center gap-2"},[...t[33]||(t[33]=[e("span",null,"‚öôÔ∏è",-1),f(),e("span",{class:"hidden sm:inline"},"Kelola Kelas",-1)])])])]),e("div",Ve,[e("div",ze,[t[36]||(t[36]=e("div",{class:"w-14 h-14 bg-blue-50 text-blue-600 rounded-2xl flex items-center justify-center text-2xl"},"üë∂",-1)),e("div",null,[t[35]||(t[35]=e("p",{class:"text-gray-400 text-xs font-bold uppercase tracking-wider mb-1"},"Total Siswa",-1)),e("p",Ee,l(n.stats.total_students),1)])]),e("div",Ne,[t[38]||(t[38]=e("div",{class:"w-14 h-14 bg-green-50 text-green-600 rounded-2xl flex items-center justify-center text-2xl"},"üì∏",-1)),e("div",null,[t[37]||(t[37]=e("p",{class:"text-gray-400 text-xs font-bold uppercase tracking-wider mb-1"},"Laporan Hari Ini",-1)),e("p",Ue,l(n.stats.activities_today),1)])]),e("div",Re,[e("div",Ge,[t[39]||(t[39]=e("p",{class:"text-white/80 text-xs font-bold uppercase tracking-wider mb-1"},"Filter Aktif",-1)),e("p",He,l(n.stats.filter_active?`Kelas ${n.stats.filter_active}`:"Semua Data"),1)]),t[40]||(t[40]=e("span",{class:"text-6xl opacity-20"},"üìä",-1))])]),n.analysis&&n.analysis.length>0?(o(),r("div",qe,[t[48]||(t[48]=e("div",{class:"flex items-center gap-2 mb-6"},[e("span",{class:"text-2xl"},"üìä"),e("div",null,[e("h2",{class:"text-xl font-bold text-gray-700"},"Analisa Pemahaman Siswa"),e("p",{class:"text-xs text-gray-400"},"Rata-rata skor kuis per kelas")])],-1)),e("div",Oe,[(o(!0),r(b,null,p(n.analysis,(s,c)=>(o(),r("div",{key:c,class:"bg-gray-50 rounded-2xl p-5 border border-gray-200 hover:shadow-md transition-shadow"},[e("div",Ye,[e("span",Ze,"Kelas "+l(s.class),1),t[41]||(t[41]=e("span",{class:"text-xs font-bold bg-white px-2 py-1 rounded border border-gray-200 text-gray-500"},"Rata-rata",-1))]),e("div",Je,[e("div",Qe,[e("div",We,[(o(),r("svg",Xe,[t[42]||(t[42]=e("circle",{cx:"50",cy:"50",r:"40",stroke:"#E2E8F0","stroke-width":"8",fill:"transparent"},null,-1)),e("circle",{cx:"50",cy:"50",r:"40",stroke:"#3B82F6","stroke-width":"8",fill:"transparent","stroke-linecap":"round","stroke-dasharray":2*Math.PI*40,"stroke-dashoffset":K(s.avg_brushing,40),class:"transition-all duration-1000 ease-out"},null,8,et)])),e("div",tt,l(Math.round(s.avg_brushing||0)),1)]),t[43]||(t[43]=e("span",{class:"text-[10px] font-bold text-gray-500 mt-2 uppercase"},"Gigi",-1)),e("span",{class:y(["text-[9px] font-bold mt-1",v(s.avg_brushing).color])},l(v(s.avg_brushing).label),3)]),e("div",st,[e("div",at,[(o(),r("svg",lt,[t[44]||(t[44]=e("circle",{cx:"50",cy:"50",r:"40",stroke:"#E2E8F0","stroke-width":"8",fill:"transparent"},null,-1)),e("circle",{cx:"50",cy:"50",r:"40",stroke:"#22C55E","stroke-width":"8",fill:"transparent","stroke-linecap":"round","stroke-dasharray":2*Math.PI*40,"stroke-dashoffset":K(s.avg_handwashing,40),class:"transition-all duration-1000 ease-out"},null,8,rt)])),e("div",ot,l(Math.round(s.avg_handwashing||0)),1)]),t[45]||(t[45]=e("span",{class:"text-[10px] font-bold text-gray-500 mt-2 uppercase"},"Tangan",-1)),e("span",{class:y(["text-[9px] font-bold mt-1",v(s.avg_handwashing).color])},l(v(s.avg_handwashing).label),3)]),e("div",nt,[e("div",it,[(o(),r("svg",dt,[t[46]||(t[46]=e("circle",{cx:"50",cy:"50",r:"40",stroke:"#E2E8F0","stroke-width":"8",fill:"transparent"},null,-1)),e("circle",{cx:"50",cy:"50",r:"40",stroke:"#EC4899","stroke-width":"8",fill:"transparent","stroke-linecap":"round","stroke-dasharray":2*Math.PI*40,"stroke-dashoffset":K(s.avg_reproductive,40),class:"transition-all duration-1000 ease-out"},null,8,ut)])),e("div",ct,l(Math.round(s.avg_reproductive||0)),1)]),t[47]||(t[47]=e("span",{class:"text-[10px] font-bold text-gray-500 mt-2 uppercase"},"Tubuh",-1)),e("span",{class:y(["text-[9px] font-bold mt-1",v(s.avg_reproductive).color])},l(v(s.avg_reproductive).label),3)])])]))),128))])])):x("",!0),e("div",xt,[e("div",bt,[t[53]||(t[53]=e("div",{class:"flex items-center gap-2 mb-2"},[e("span",{class:"text-xl"},"üì•"),e("h2",{class:"text-xl font-bold text-gray-700"},"Aktivitas Terbaru")],-1)),e("div",gt,[(o(!0),r(b,null,p(n.recentActivities,s=>(o(),r("div",{key:s.id,class:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 flex flex-col sm:flex-row gap-5 hover:shadow-md transition-all group"},[e("div",ft,[s.proof_image?(o(),r("img",{key:0,src:`/storage/${s.proof_image}`,class:"w-full h-full object-cover cursor-zoom-in transition-transform duration-500 group-hover/img:scale-110",onClick:c=>R(s.proof_image)},null,8,pt)):(o(),r("div",mt,[...t[49]||(t[49]=[e("span",{class:"text-2xl mb-1"},"üìù",-1),e("span",null,[f("Hasil Kuis"),e("br"),f("(Teori)")],-1)])])),s.proof_image?(o(),r("div",vt,[...t[50]||(t[50]=[e("span",{class:"text-white font-bold text-xs bg-black/50 px-2 py-1 rounded"},"üîç Zoom",-1)])])):x("",!0)]),e("div",yt,[e("div",null,[e("div",ht,[e("div",null,[e("h3",{class:"font-bold text-gray-800 text-lg hover:text-blue-600 cursor-pointer",onClick:c=>V({name:s.student_name,class:s.student_class})},l(s.student_name),9,wt),e("span",kt,"Kelas "+l(s.student_class),1)]),e("span",_t,l(s.time),1)]),e("div",jt,[e("span",{class:y(["inline-flex items-center gap-1.5 text-xs font-bold px-2.5 py-1.5 rounded-lg border",U(s.activity_type)])},l(L(s.activity_type)),3),e("span",Ct,l(F(s)),1)])]),t[51]||(t[51]=e("p",{class:"text-xs text-gray-400 mt-2 flex items-center gap-1"},[e("span",{class:"text-green-500"},"‚úî"),f(" Diverifikasi Otomatis ")],-1))])]))),128)),n.recentActivities.length===0?(o(),r("div",St,[...t[52]||(t[52]=[e("div",{class:"text-4xl mb-3 opacity-30"},"üì≠",-1),e("p",{class:"text-gray-400 font-medium"},"Belum ada laporan aktivitas baru.",-1)])])):x("",!0)])]),e("div",At,[t[57]||(t[57]=e("div",{class:"flex items-center justify-between mb-2"},[e("div",{class:"flex items-center gap-2"},[e("span",{class:"text-xl"},"üéì"),e("h2",{class:"text-xl font-bold text-gray-700"},"Data Murid")])],-1)),e("div",$t,[e("div",Kt,[e("span",Mt,l(n.students.length)+" Siswa",1),e("button",{onClick:t[13]||(t[13]=s=>k.value=!0),class:"bg-green-500 hover:bg-green-600 text-white text-xs font-bold px-3 py-2 rounded-lg shadow-md flex items-center gap-1.5 transition-all active:scale-95"},[...t[54]||(t[54]=[e("span",{class:"text-sm"},"+",-1),f(" Tambah",-1)])])]),e("div",Dt,[(o(!0),r(b,null,p(n.students,s=>(o(),r("div",{key:s.id,onClick:c=>V(s),class:"flex items-center gap-3 p-3 rounded-xl hover:bg-blue-50 cursor-pointer transition-colors group border border-transparent hover:border-blue-100"},[e("div",{class:y(["w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold text-white shadow-sm transition-transform group-hover:scale-110",s.gender==="P"?"bg-pink-400":"bg-blue-400"])},l(z(s.name)),3),e("div",Bt,[e("p",Tt,l(s.name),1),e("div",Lt,[e("span",Ft,"Kls "+l(s.class),1),e("span",It,"‚≠ê "+l(s.total_points),1)])]),t[55]||(t[55]=e("span",{class:"text-gray-300 text-lg group-hover:text-blue-400"},"‚Ä∫",-1))],8,Pt))),128)),n.students.length===0?(o(),r("div",Vt,[...t[56]||(t[56]=[e("span",{class:"text-3xl mb-2 opacity-30"},"üë•",-1),e("p",{class:"text-sm"},"Belum ada data murid.",-1)])])):x("",!0)])])])])])])],64))}},Ut=W(zt,[["__scopeId","data-v-4805c2cc"]]);export{Ut as default};
