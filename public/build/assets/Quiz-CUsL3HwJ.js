import{c as n,b as t,u as w,a1 as k,L as l,t as i,M as S,F as T,R as q,i as A,a as B,w as z,o as a,j as f,a2 as F,s as b,z as K,a3 as $}from"./app-Diw5XTe3.js";import{c as y}from"./confetti.module-oQXWb4Lk.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const H={key:0,class:"text-center animate-fade-in-up"},E={key:1,class:"w-full max-w-2xl"},M={key:0},N={class:"text-center mb-8"},V={class:"mb-8 bg-white p-4 rounded-3xl shadow-md flex items-center gap-4 border-2 border-white"},D={class:"flex-1 bg-gray-100 h-6 rounded-full overflow-hidden shadow-inner"},G={class:"bg-white rounded-[3rem] p-8 md:p-10 shadow-2xl border-4 border-white relative overflow-hidden transition-all"},L={class:"text-2xl md:text-3xl font-black text-center text-gray-800 mb-10 leading-snug"},Q={class:"grid grid-cols-1 gap-4"},I=["onClick","disabled"],O={class:"flex items-center gap-4"},R={class:"leading-tight"},U={key:1,class:"text-center animate-fade-in-up"},J={class:"mb-8 relative inline-block"},P={class:"absolute -top-4 -right-4 bg-orange-500 text-white w-20 h-20 rounded-full flex items-center justify-center text-3xl font-black border-4 border-white shadow-xl rotate-12"},W={class:"text-2xl font-bold text-gray-500 mb-10"},X={class:"text-orange-500"},Y={key:0,class:"fixed inset-0 z-50 flex items-center justify-center pointer-events-none bg-black/20 backdrop-blur-sm"},Z={key:0,class:"bg-green-500 text-white p-10 rounded-full shadow-2xl animate-bounce border-8 border-white"},ee={key:1,class:"bg-red-500 text-white p-10 rounded-full shadow-2xl animate-shake border-8 border-white"},te={__name:"Quiz",props:{student:Object,questions:Array,type:String},setup(r){const u=r,o=K(()=>{switch(u.type){case"brushing":return{title:"ü¶∑ Kuis Gigi",bgApp:"bg-blue-50",textTitle:"text-blue-600",bar:"bg-blue-500",textCount:"text-blue-600",optHover:"hover:bg-blue-500 hover:border-blue-600",iconColor:"text-blue-600",btnBg:"bg-blue-500 hover:bg-blue-600",btnShadow:"shadow-blue-200",textScore:"text-blue-600"};case"handwashing":return{title:"üßº Kuis Tangan",bgApp:"bg-green-50",textTitle:"text-green-600",bar:"bg-green-500",textCount:"text-green-600",optHover:"hover:bg-green-500 hover:border-green-600",iconColor:"text-green-600",btnBg:"bg-green-500 hover:bg-green-600",btnShadow:"shadow-green-200",textScore:"text-green-600"};case"reproductive":return{title:"‚ù§Ô∏è Kuis Tubuhku",bgApp:"bg-pink-50",textTitle:"text-pink-600",bar:"bg-pink-500",textCount:"text-pink-600",optHover:"hover:bg-pink-500 hover:border-pink-600",iconColor:"text-pink-600",btnBg:"bg-pink-500 hover:bg-pink-600",btnShadow:"shadow-pink-200",textScore:"text-pink-600"};default:return{title:"Kuis Seru",bgApp:"bg-purple-50",textTitle:"text-purple-600",bar:"bg-purple-500",textCount:"text-purple-600",optHover:"hover:bg-purple-500 hover:border-purple-600",iconColor:"text-purple-600",btnBg:"bg-purple-500 hover:bg-purple-600",btnShadow:"shadow-purple-200",textScore:"text-purple-600"}}}),d=b(0),p=b(0),m=b(!1),c=b(null),g=b(!1),x=s=>{try{const e=new Audio(`/sounds/${s}.mp3`);e.volume=.5,e.play().catch(()=>{})}catch(e){console.error(e)}},C=s=>{if(g.value||(g.value=!0,!u.questions||u.questions.length===0))return;s===u.questions[d.value].answer?(p.value+=20,c.value="correct",x("success"),y({particleCount:50,spread:60,origin:{y:.7}})):(c.value="wrong",x("wrong")),setTimeout(()=>{c.value=null,g.value=!1,d.value<u.questions.length-1?d.value++:_()},1500)},_=async()=>{m.value=!0,y({particleCount:150,spread:70,origin:{y:.6}}),x("success");const s=new FormData;s.append("student_id",u.student.id),s.append("type",u.type),s.append("duration",p.value),s.append("is_quiz",1);try{await $.post("/activity/store",s,{headers:{"Content-Type":"multipart/form-data"}})}catch(e){console.error("Gagal simpan skor",e)}};return(s,e)=>(a(),n("div",{class:l(["min-h-screen flex flex-col items-center justify-center p-6 font-['Comic_Sans_MS'] transition-colors duration-500",o.value.bgApp])},[!r.questions||r.questions.length===0?(a(),n("div",H,[e[2]||(e[2]=t("div",{class:"text-7xl mb-4 grayscale opacity-50"},"üì≠",-1)),e[3]||(e[3]=t("h2",{class:"text-2xl font-black text-gray-700"},"Soal Belum Tersedia",-1)),e[4]||(e[4]=t("p",{class:"text-gray-500 mb-6"},"Minta Bu Guru untuk membuat soal kategori ini ya!",-1)),t("button",{onClick:e[0]||(e[0]=h=>w(k).get("/dashboard/"+r.student.id)),class:"bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-transform active:scale-95"}," Kembali ")])):(a(),n("div",E,[m.value?(a(),n("div",U,[t("div",J,[e[5]||(e[5]=t("div",{class:"text-[140px] animate-bounce drop-shadow-2xl"},"üèÜ",-1)),t("div",P," +"+i(p.value),1)]),t("h1",{class:l(["text-5xl font-black mb-2 tracking-tight",o.value.textTitle])}," HEBAT! ",2),t("p",W,[e[6]||(e[6]=A("Skor Akhir Kamu: ",-1)),t("span",X,i(p.value),1)]),t("button",{onClick:e[1]||(e[1]=h=>w(k).get("/dashboard/"+r.student.id)),class:l(["text-white text-2xl font-black px-12 py-5 rounded-[40px] shadow-xl active:shadow-none active:translate-y-2 transition-all hover:scale-105",`${o.value.btnBg} ${o.value.btnShadow}`])}," KEMBALI KE MENU üè† ",2)])):(a(),n("div",M,[t("div",N,[t("h1",{class:l(["text-4xl md:text-5xl font-black uppercase tracking-wider drop-shadow-sm",o.value.textTitle])},i(o.value.title),3)]),t("div",V,[t("div",D,[t("div",{class:l(["h-full transition-all duration-500 ease-out",o.value.bar]),style:S({width:(d.value+1)/r.questions.length*100+"%"})},null,6)]),t("span",{class:l(["font-black text-lg",o.value.textCount])},i(d.value+1)+"/"+i(r.questions.length),3)]),t("div",G,[t("h2",L,i(r.questions[d.value].question),1),t("div",Q,[(a(!0),n(T,null,q(r.questions[d.value].options,(h,v)=>(a(),n("button",{key:v,onClick:oe=>C(v),disabled:g.value,class:l(["group relative bg-[#F8F7FF] p-5 rounded-2xl text-xl font-bold transition-all text-gray-700 hover:text-white border-b-4 border-gray-200 active:border-b-0 active:translate-y-1 text-left",`${o.value.optHover} hover:shadow-lg`])},[t("span",O,[t("span",{class:l(["w-12 h-12 shrink-0 bg-white rounded-full flex items-center justify-center shadow-md text-lg font-black transition-transform group-hover:scale-110",o.value.iconColor])},i(String.fromCharCode(65+v)),3),t("span",R,i(h),1)])],10,I))),128))])])])),B(F,{name:"pop"},{default:z(()=>[c.value?(a(),n("div",Y,[c.value==="correct"?(a(),n("div",Z,[...e[7]||(e[7]=[t("span",{class:"text-9xl filter drop-shadow-lg"},"‚úÖ",-1)])])):f("",!0),c.value==="wrong"?(a(),n("div",ee,[...e[8]||(e[8]=[t("span",{class:"text-9xl filter drop-shadow-lg"},"‚ùå",-1)])])):f("",!0)])):f("",!0)]),_:1})]))],2))}},re=j(te,[["__scopeId","data-v-956e3410"]]);export{re as default};
