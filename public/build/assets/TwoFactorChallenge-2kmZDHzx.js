import{B as Be,C as pe,y as fe,z as E,D as Ae,e as z,E as Re,G as me,H as ve,I as ge,J as Me,K as $e,c as q,f as G,u as p,j as he,b as g,A as oe,m as L,L as Ve,M as Fe,F as ye,N as ie,O as W,P as De,Q as Ie,s as H,o as S,w as V,n as Oe,k as je,i as te,t as ne,a as C,h as We,g as ue,R as He}from"./app-j5Ti9vKF.js";import{u as Le,d as ze,b as Ne,c as D,r as J,a as ce,_ as Ge}from"./Input.vue_vue_type_script_setup_true_lang-DtZCai-I.js";import{c as ae,q as qe,_ as de,a as Ke}from"./AuthLayout.vue_vue_type_script_setup_true_lang-DFsvVKNm.js";function Ue(n){const l=fe(),i=l?.type.emits,o={};return i?.length||console.warn(`No emitted event found. Please check component: ${l?.type.__name}`),i?.forEach(r=>{o[Be(pe(r))]=(...a)=>n(r,...a)}),o}function Q(n){const l=fe(),i=Object.keys(l?.type.props??{}).reduce((r,a)=>{const s=(l?.type.props[a]).default;return s!==void 0&&(r[a]=s),r},{}),o=Ae(n);return E(()=>{const r={},a=l?.vnode.props??{};return Object.keys(a).forEach(s=>{r[pe(s)]=a[s]}),Object.keys({...i,...r}).reduce((s,d)=>(o.value[d]!==void 0&&(s[d]=o.value[d]),s),{})})}function Xe(n,l){const i=Q(n),o=l?Ue(l):{};return E(()=>({...i.value,...o}))}const Je=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`,Qe=z({props:{fallback:{type:String,required:!0}},setup(n){return()=>Ie("noscript",{innerHTML:`<style>${n.fallback}</style>`})}}),be=Symbol("vue-otp-context");function Ye(n){return[setTimeout(n,0),setTimeout(n,10),setTimeout(n,50)]}const Ze=18,_e=40,et=`${_e}px`,tt=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function nt({containerRef:n,inputRef:l,pushPasswordManagerStrategy:i,isFocused:o}){const r=H({done:!1,refocused:!1}),a=H(!1),s=H(!1),d=H(!1),h=E(()=>i==="none"?!1:(i==="increase-width"||i==="experimental-no-flickering")&&a.value&&s.value),v=()=>{const c=n.value,_=l.value;if(!c||!_||d.value||i==="none")return;const T=c,B=T.getBoundingClientRect().left+T.offsetWidth,P=T.getBoundingClientRect().top+T.offsetHeight/2,A=B-Ze,N=P;if(!(document.querySelectorAll(tt).length===0&&document.elementFromPoint(A,N)===c)&&(a.value=!0,d.value=!0,!r.value.refocused&&document.activeElement===_)){const I=[_.selectionStart,_.selectionEnd];_.blur(),_.focus(),_.setSelectionRange(I[0],I[1]),r.value.refocused=!0}},m=()=>{const c=n.value;!c||i==="none"||(s.value=window.innerWidth-c.getBoundingClientRect().right>=_e)};let b;return me(()=>{m(),b=setInterval(m,1e3)}),ve(()=>{clearInterval(b)}),ge([o,l],(c,_,T)=>{const[B,P]=c,A=B||document.activeElement===P;if(i==="none"||!A)return;const N=setTimeout(v,0),I=setTimeout(v,2e3),Y=setTimeout(v,5e3),Z=setTimeout(()=>{d.value=!0},6e3);T(()=>{clearTimeout(N),clearTimeout(I),clearTimeout(Y),clearTimeout(Z)})}),{hasPWMBadge:a,willPushPWMBadge:h,PWM_BADGE_SPACE_WIDTH:et}}const ot={style:{position:"absolute",inset:"0","pointer-events":"none"}},at=["value","data-input-otp-placeholder-shown","data-input-otp-mss","data-input-otp-mse","aria-placeholder","pattern"],st=z({name:"OTPInput",inheritAttrs:!1,__name:"OTPInput",props:ie({maxlength:{},textAlign:{default:"left"},inputmode:{default:"numeric"},containerClass:{},pushPasswordManagerStrategy:{default:"increase-width"},noScriptCssFallback:{default:Je},defaultValue:{default:""},pasteTransformer:{},accept:{},alt:{},autocomplete:{default:"one-time-code"},autofocus:{type:Boolean},capture:{type:[Boolean,String]},checked:{type:[Boolean,Array,Set]},crossorigin:{},disabled:{type:Boolean},enterKeyHint:{},form:{},formaction:{},formenctype:{},formmethod:{},formnovalidate:{type:Boolean},formtarget:{},height:{},indeterminate:{type:Boolean},list:{},max:{},min:{},minlength:{},multiple:{type:Boolean},name:{},pattern:{},placeholder:{},readonly:{type:Boolean},required:{type:Boolean},size:{},src:{},step:{},type:{},value:{},width:{}},{modelValue:{default(n){return n.defaultValue}},modelModifiers:{}}),emits:ie(["complete","change","select","input","focus","blur","mouseover","mouseleave","paste"],["update:modelValue"]),setup(n,{expose:l,emit:i}){const o=n,r=i,[a]=Re(n,"modelValue"),s=Le(a),d=E(()=>o.pattern?typeof o.pattern=="string"?new RegExp(o.pattern):o.pattern:null),h=W(!1),v=W(!1),m=W(null),b=W(null),c=W(null),_=W(null),T=ze?.CSS?.supports?.("-webkit-touch-callout","none");let B={prev:[c.value?.selectionStart,c.value?.selectionEnd,c.value?.selectionDirection]};function P(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}me(()=>{const t=c.value,e=_.value;if(!t||!e)return;B.prev=[t.selectionStart,t.selectionEnd,t.selectionDirection??"none"];const u=Ne(D,"selectionchange",x,{capture:!0});function x(){if(!t)return;if(D?.activeElement!==t){m.value=null,b.value=null;return}const f=t.selectionStart,k=t.selectionEnd,K=t.selectionDirection,U=t.maxLength,X=t.value,O=B.prev;let M=-1,$=-1,j;if(X.length!==0&&f!==null&&k!==null){const Ce=f===k,Ee=f===X.length&&X.length<U;if(Ce&&!Ee){const F=f;if(F===0)M=0,$=1,j="forward";else if(F===U)M=F-1,$=F,j="backward";else if(U>1&&X.length>1){let ee=0;if(O[0]!==null&&O[1]!==null){j=F<O[1]?"backward":"forward";const Te=O[0]===O[1]&&O[0]<U;j==="backward"&&!Te&&(ee=-1)}M=ee+F,$=ee+F+1}}M!==-1&&$!==-1&&M!==$&&t.setSelectionRange(M,$,j)}const re=M!==-1?M:f,le=$!==-1?$:k,ke=j??K;m.value=re,b.value=le,B.prev=[re,le,ke]}if(x(),D?.activeElement===t&&(v.value=!0),!D?.getElementById("input-otp-style")){const f=D?.createElement("style");if(f.id="input-otp-style",D?.head.appendChild(f),f.sheet){const k="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";P(f.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),P(f.sheet,`[data-input-otp]:autofill { ${k} }`),P(f.sheet,`[data-input-otp]:-webkit-autofill { ${k} }`),P(f.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),P(f.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}const w=()=>{e&&e.style.setProperty("--root-height",`${t.clientHeight}px`)};w();const R=new ResizeObserver(w);R.observe(t),ve(()=>{u(),R.disconnect()})}),ge([a],()=>{Ye(()=>{if(!c.value)return;c.value?.dispatchEvent(new Event("input"));const t=c.value?.selectionStart,e=c.value?.selectionEnd,u=c.value?.selectionDirection;t!==null&&e!==null&&(m.value=t??null,b.value=e??null,B.prev=[t,e,u])})},{immediate:!0}),Me(()=>{s.value!==void 0&&a.value!==s.value&&s.value.length<o.maxlength&&a.value.length===o.maxlength&&r("complete",a.value)});const A=nt({containerRef:_,inputRef:c,pushPasswordManagerStrategy:o.pushPasswordManagerStrategy,isFocused:v});function N(t){if(t.inputType==="insertText"&&t.data!==null){const e=t.currentTarget,u=e.selectionStart??0,x=e.selectionEnd??0,w=e.value,R=(u!==x?w.slice(0,u)+t.data+w.slice(x):w.slice(0,u)+t.data+w.slice(u)).slice(0,o.maxlength);R.length>0&&d.value&&!d.value.test(R)&&t.preventDefault()}}function I(t){const e=t.currentTarget.value.slice(0,o.maxlength);if(e.length>0&&d.value&&!d.value.test(e)){t.preventDefault();return}typeof s.value=="string"&&e.length<s.value.length&&D?.dispatchEvent(new Event("selectionchange")),a.value=e,r("input",e)}function Y(){const t=c.value;if(t){const e=Math.min(t.value.length,o.maxlength-1),u=t.value.length;t.setSelectionRange(e,u),m.value=e,b.value=u}v.value=!0}function Z(t){const e=c.value;if(!e||!o.pasteTransformer&&(!T||!t.clipboardData||!e))return;const u=t?.clipboardData?.getData("text/plain"),x=o?.pasteTransformer?o.pasteTransformer(u):u;t.preventDefault();const w=c.value?.selectionStart,R=c.value?.selectionEnd,f=(w!==R?a.value.slice(0,w)+x+a.value.slice(R):a.value.slice(0,w)+x+a.value.slice(w)).slice(0,o.maxlength);if(f.length>0&&d.value&&!d.value.test(f))return;a.value=f,r("input",f);const k=Math.min(f.length,o.maxlength-1),K=f.length;e?.setSelectionRange(k,K),m.value=k,b.value=K}const we=Q(J(o,"containerClass","value","pattern","defaultValue","pushPasswordManagerStrategy","noScriptCssFallback","modelValue")),Se=E(()=>({position:"relative",cursor:o.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"})),Pe=E(()=>({position:"absolute",inset:0,width:A.willPushPWMBadge.value?`calc(100% + ${A.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:A.willPushPWMBadge.value?`inset(0 ${A.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o.textAlign,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"})),se=E(()=>({slots:Array.from({length:Number(o.maxlength)}).map((t,e)=>{const u=v.value&&m.value!==null&&b.value!==null&&(m.value===b.value&&e===m.value||e>=m.value&&e<b.value),x=a.value[e]!==void 0?a.value[e]:null;return{char:x,placeholderChar:x??o?.placeholder?.[e]??null,isActive:u,hasFakeCaret:u&&x===null}}),isFocused:v.value,isHovering:!o.disabled&&h.value}));return $e(be,se),l(Object.defineProperty({},"$el",{enumerable:!0,configurable:!0,get:()=>c})),(t,e)=>(S(),q(ye,null,[n.noScriptCssFallback!==null?(S(),G(p(Qe),{key:0,fallback:n.noScriptCssFallback},null,8,["fallback"])):he("v-if",!0),g("div",{ref_key:"containerRef",ref:_,"data-input-otp-container":"",style:Fe(Se.value),class:Ve(n.containerClass)},[oe(t.$slots,"default",{slots:se.value.slots,isFocused:v.value,isHovering:!n.disabled&&h.value}),g("div",ot,[g("input",L({ref_key:"inputRef",ref:c,value:p(a),"data-input-otp":"","data-input-otp-placeholder-shown":p(a).length===0||void 0,"data-input-otp-mss":m.value,"data-input-otp-mse":b.value,"aria-placeholder":n.placeholder,style:Pe.value,pattern:d.value?.source},{...t.$attrs,...p(we)},{onBeforeinput:N,onMouseover:e[0]||(e[0]=u=>{h.value=!0,r("mouseover",u)}),onMouseleave:e[1]||(e[1]=u=>{h.value=!1,r("mouseleave",u)}),onPaste:e[2]||(e[2]=u=>{Z(u),r("paste",u)}),onInput:I,onFocus:e[3]||(e[3]=u=>{Y(),r("focus",u)}),onBlur:e[4]||(e[4]=u=>{v.value=!1,r("blur",u)})}),null,16,at)])],6)],64))}});var rt=st;function lt(){return De(be)}const it=z({__name:"InputOTP",props:{maxlength:{},textAlign:{},inputmode:{},containerClass:{},pushPasswordManagerStrategy:{},noScriptCssFallback:{},defaultValue:{},pasteTransformer:{type:Function},accept:{},alt:{},autocomplete:{},autofocus:{type:Boolean},capture:{type:[Boolean,String]},checked:{type:[Boolean,Array,Set]},crossorigin:{},disabled:{type:Boolean},enterKeyHint:{},form:{},formaction:{},formenctype:{},formmethod:{},formnovalidate:{type:Boolean},formtarget:{},height:{},indeterminate:{type:Boolean},list:{},max:{},min:{},minlength:{},multiple:{type:Boolean},name:{},pattern:{},placeholder:{},readonly:{type:Boolean},required:{type:Boolean},size:{},src:{},step:{},type:{},value:{},width:{},class:{}},emits:["complete","change","select","input","focus","blur","mouseover","mouseleave","paste"],setup(n,{emit:l}){const i=n,o=l,r=J(i,"class"),a=Xe(r,o);return(s,d)=>(S(),G(p(rt),L(p(a),{"container-class":p(ae)("flex items-center gap-2 has-disabled:opacity-50",i.class),"data-slot":"input-otp",class:"disabled:cursor-not-allowed"}),{default:V(h=>[oe(s.$slots,"default",Oe(je(h)))]),_:3},16,["container-class"]))}}),ut=z({__name:"InputOTPGroup",props:{class:{}},setup(n){const l=n,i=J(l,"class"),o=Q(i);return(r,a)=>(S(),q("div",L({"data-slot":"input-otp-group"},p(o),{class:p(ae)("flex items-center",l.class)}),[oe(r.$slots,"default")],16))}}),ct=["data-active"],dt={key:0,class:"pointer-events-none absolute inset-0 flex items-center justify-center"},pt=z({__name:"InputOTPSlot",props:{index:{},class:{}},setup(n){const l=n,i=J(l,"class"),o=Q(i),r=lt(),a=E(()=>r?.value.slots[l.index]);return(s,d)=>(S(),q("div",L(p(o),{"data-slot":"input-otp-slot","data-active":a.value?.isActive,class:p(ae)("data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",l.class)}),[te(ne(a.value?.char)+" ",1),a.value?.hasFakeCaret?(S(),q("div",dt,[...d[0]||(d[0]=[g("div",{class:"animate-caret-blink bg-foreground h-4 w-px duration-1000"},null,-1)])])):he("",!0)],16,ct))}}),y=n=>({url:y.url(n),method:"post"});y.definition={methods:["post"],url:"/two-factor-challenge"};y.url=n=>y.definition.url+qe(n);y.post=n=>({url:y.url(n),method:"post"});const xe=n=>({action:y.url(n),method:"post"});xe.post=n=>({action:y.url(n),method:"post"});y.form=xe;Object.assign(y,y);const ft={class:"space-y-6"},mt=["value"],vt={class:"flex flex-col items-center justify-center space-y-3 text-center"},gt={class:"flex w-full items-center justify-center"},ht={class:"text-center text-sm text-muted-foreground"},yt=["onClick"],bt={class:"text-center text-sm text-muted-foreground"},_t=["onClick"],Pt=z({__name:"TwoFactorChallenge",setup(n){const l=E(()=>i.value?{title:"Recovery Code",description:"Please confirm access to your account by entering one of your emergency recovery codes.",buttonText:"login using an authentication code"}:{title:"Authentication Code",description:"Enter the authentication code provided by your authenticator application.",buttonText:"login using a recovery code"}),i=H(!1),o=a=>{i.value=!i.value,a(),r.value=""},r=H("");return(a,s)=>(S(),G(Ke,{title:l.value.title,description:l.value.description},{default:V(()=>[C(p(We),{title:"Two-Factor Authentication"}),g("div",ft,[i.value?(S(),G(p(ue),L({key:1},p(y).form(),{class:"space-y-4","reset-on-error":""}),{default:V(({errors:d,processing:h,clearErrors:v})=>[C(p(Ge),{name:"recovery_code",type:"text",placeholder:"Enter recovery code",autofocus:i.value,required:""},null,8,["autofocus"]),C(ce,{message:d.recovery_code},null,8,["message"]),C(p(de),{type:"submit",class:"w-full",disabled:h},{default:V(()=>[...s[4]||(s[4]=[te("Continue",-1)])]),_:1},8,["disabled"]),g("div",bt,[s[5]||(s[5]=g("span",null,"or you can ",-1)),g("button",{type:"button",class:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",onClick:()=>o(v)},ne(l.value.buttonText),9,_t)])]),_:1},16)):(S(),G(p(ue),L({key:0},p(y).form(),{class:"space-y-4","reset-on-error":"",onError:s[1]||(s[1]=d=>r.value="")}),{default:V(({errors:d,processing:h,clearErrors:v})=>[g("input",{type:"hidden",name:"code",value:r.value},null,8,mt),g("div",vt,[g("div",gt,[C(p(it),{id:"otp",modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=m=>r.value=m),maxlength:6,disabled:h,autofocus:""},{default:V(()=>[C(p(ut),null,{default:V(()=>[(S(),q(ye,null,He(6,m=>C(p(pt),{key:m,index:m-1},null,8,["index"])),64))]),_:1})]),_:1},8,["modelValue","disabled"])]),C(ce,{message:d.code},null,8,["message"])]),C(p(de),{type:"submit",class:"w-full",disabled:h},{default:V(()=>[...s[2]||(s[2]=[te("Continue",-1)])]),_:1},8,["disabled"]),g("div",ht,[s[3]||(s[3]=g("span",null,"or you can ",-1)),g("button",{type:"button",class:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",onClick:()=>o(v)},ne(l.value.buttonText),9,yt)])]),_:1},16))])]),_:1},8,["title","description"]))}});export{Pt as default};
