import{s,H as K,c as n,a as w,u as j,h as C,b as e,t as o,L as z,j as f,F as k,R as A,a1 as B,o as r,w as G,q as S,a2 as L}from"./app-j5Ti9vKF.js";import{c as N}from"./confetti.module-oQXWb4Lk.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"min-h-screen bg-orange-50 font-['Comic_Sans_MS'] flex flex-col items-center justify-center p-4 relative overflow-hidden select-none"},E={class:"z-10 text-center mb-6 w-full max-w-md"},F={class:"flex justify-between items-center bg-white p-4 rounded-2xl shadow-lg border-4 border-orange-200"},O={class:"text-left"},V={class:"text-3xl font-black text-orange-600"},$={class:"text-right"},q={class:"bg-orange-200 p-6 rounded-[2rem] shadow-2xl border-b-8 border-orange-300 w-full max-w-md relative"},R={key:0,class:"absolute inset-0 z-20 bg-black/60 backdrop-blur-sm rounded-[2rem] flex flex-col items-center justify-center text-center p-6 text-white"},W={key:1,class:"absolute inset-0 z-20 bg-black/70 backdrop-blur-sm rounded-[2rem] flex flex-col items-center justify-center text-center p-6 text-white animate-in fade-in zoom-in duration-300"},D={class:"text-6xl mb-2"},J={class:"text-5xl font-black text-yellow-400 mb-6 drop-shadow-lg"},P={class:"grid grid-cols-3 gap-4"},Q=["onMousedown","onTouchstart"],X={key:0,class:"absolute inset-0 flex items-center justify-center z-20"},Y="ðŸ¦ ",Z="ðŸ’¥",ee="ðŸ•³ï¸",te={__name:"Game",props:{student:Object},setup(_){const M=_,l=s(0),i=s(30),u=s(!1),v=s(!1);s(Array(9).fill(!1));const a=s(null),d=s(null),m=s(null),x=s(800),g=()=>{l.value=0,i.value=30,u.value=!0,v.value=!1,x.value=800,m.value=setInterval(()=>{i.value--,i.value<=0&&I()},1e3),p()},p=()=>{if(!u.value)return;a.value=null;const b=Math.floor(Math.random()*x.value)+400,t=Math.floor(Math.random()*9);a.value=t,d.value=setTimeout(()=>{a.value===t&&(a.value=null,p())},b)},h=(b,t)=>{!u.value||a.value!==b||(l.value+=10,a.value="hit",navigator.vibrate&&navigator.vibrate(50),l.value%50===0&&x.value>300&&(x.value-=50),clearTimeout(d.value),setTimeout(p,200))},I=()=>{u.value=!1,v.value=!0,clearInterval(m.value),clearTimeout(d.value),a.value=null,l.value>100&&N({particleCount:200,spread:100,origin:{y:.6}})},y=()=>{clearInterval(m.value),clearTimeout(d.value),B.visit(`/dashboard/${M.student.id}`)};return K(()=>{clearInterval(m.value),clearTimeout(d.value)}),(b,t)=>(r(),n(k,null,[w(j(C),{title:"Basmi Kuman!"}),e("div",U,[t[8]||(t[8]=e("div",{class:"absolute top-10 left-10 text-6xl opacity-10 animate-pulse"},"ðŸ¦ ",-1)),t[9]||(t[9]=e("div",{class:"absolute bottom-10 right-10 text-8xl opacity-10 animate-bounce"},"ðŸ¦ ",-1)),e("div",E,[e("div",F,[e("div",O,[t[0]||(t[0]=e("p",{class:"text-xs text-gray-400 font-bold uppercase"},"Skor",-1)),e("p",V,o(l.value),1)]),t[2]||(t[2]=e("div",{class:"text-4xl animate-bounce"},"ðŸ”¨",-1)),e("div",$,[t[1]||(t[1]=e("p",{class:"text-xs text-gray-400 font-bold uppercase"},"Waktu",-1)),e("p",{class:z(["text-3xl font-black",i.value<=5?"text-red-500 animate-ping":"text-blue-600"])},o(i.value)+"s",3)])])]),e("div",q,[!u.value&&!v.value?(r(),n("div",R,[t[3]||(t[3]=e("div",{class:"text-6xl mb-4"},"ðŸ¦ ðŸ”¨",-1)),t[4]||(t[4]=e("h1",{class:"text-3xl font-black mb-2 text-yellow-300 drop-shadow-md"},"MISI BASMI KUMAN",-1)),t[5]||(t[5]=e("p",{class:"mb-6 font-bold text-sm opacity-90"},"Kuman jahat menyerang! Ketuk mereka secepatnya sebelum waktu habis!",-1)),e("button",{onClick:g,class:"bg-green-500 hover:bg-green-600 text-white text-xl font-black py-4 px-10 rounded-full shadow-[0_6px_0_#15803d] active:shadow-none active:translate-y-1 transition-all"}," MULAI MAIN â–¶ "),e("button",{onClick:y,class:"mt-4 text-sm font-bold text-gray-300 hover:text-white underline"},"Kembali ke Menu")])):f("",!0),v.value?(r(),n("div",W,[e("div",D,o(l.value>100?"ðŸ†":"ðŸ˜…"),1),t[6]||(t[6]=e("h2",{class:"text-2xl font-black mb-1"},"WAKTU HABIS!",-1)),t[7]||(t[7]=e("p",{class:"text-sm font-bold opacity-80 mb-4"},"Kamu berhasil membasmi:",-1)),e("div",J,o(l.value/10)+" Kuman",1),e("div",{class:"flex gap-3 w-full"},[e("button",{onClick:y,class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 rounded-xl shadow-[0_4px_0_#374151] active:shadow-none active:translate-y-1"}," Keluar "),e("button",{onClick:g,class:"flex-1 bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 rounded-xl shadow-[0_4px_0_#1d4ed8] active:shadow-none active:translate-y-1"}," Main Lagi ðŸ”„ ")])])):f("",!0),e("div",P,[(r(),n(k,null,A(9,(ae,c)=>e("div",{key:c,class:"aspect-square bg-[#78350f] rounded-full relative shadow-inner overflow-hidden border-b-4 border-[#451a03] ring-4 ring-orange-300/50"},[e("div",{class:"absolute bottom-[-10px] w-full text-center text-5xl opacity-50 grayscale"},o(ee)),w(L,{name:"pop"},{default:G(()=>[a.value===c?(r(),n("div",{key:0,onMousedown:T=>h(c),onTouchstart:S(T=>h(c),["prevent"]),class:"absolute inset-0 flex items-center justify-center cursor-pointer active:scale-90 transition-transform z-10 hover:brightness-110"},[e("span",{class:"text-6xl filter drop-shadow-lg animate-bounce-fast"},o(Y))],40,Q)):f("",!0)]),_:2},1024),a.value==="hit"&&a.value===c?(r(),n("div",X,[e("span",{class:"text-6xl animate-ping"},o(Z))])):f("",!0)])),64))])]),t[10]||(t[10]=e("p",{class:"mt-6 text-gray-400 text-xs font-bold text-center"},"Tips: Jangan biarkan kuman lolos!",-1))])],64))}},ne=H(te,[["__scopeId","data-v-006f7c22"]]);export{ne as default};
