import{c as n,a as j,u as y,h as q,b as t,w as z,i as m,l as I,t as r,M as P,j as g,L as l,F as f,R as k,d as K,z as p,a1 as D,s as F,o as d}from"./app-Diw5XTe3.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"min-h-screen bg-[#F0F9FF] font-['Comic_Sans_MS',_sans-serif] text-[#1E293B] relative overflow-x-hidden pb-24"},G={class:"bg-white/90 backdrop-blur-md shadow-sm sticky top-0 z-40 px-4 md:px-6 py-3 flex justify-between items-center border-b border-sky-100"},H={class:"p-4 md:p-8 max-w-6xl mx-auto space-y-6 md:space-y-10 relative z-10"},N={class:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6"},E={class:"lg:col-span-2 bg-white rounded-[2rem] p-5 md:p-8 shadow-xl border-4 border-white flex flex-col sm:flex-row items-center gap-4 md:gap-6 relative overflow-hidden"},U={class:"relative w-24 h-24 md:w-28 md:h-28 shrink-0"},V={class:"w-full h-full bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full border-[5px] border-white shadow-lg flex items-center justify-center text-5xl md:text-6xl transform hover:scale-105 transition-transform"},Y={class:"absolute -bottom-1 -right-1 bg-white text-[10px] md:text-xs font-black px-2 py-1 rounded-full shadow border border-gray-100"},R={class:"flex-1 text-center sm:text-left w-full"},J={class:"text-2xl md:text-4xl font-black text-sky-600 mb-1 md:mb-2"},Q={class:"relative w-full bg-gray-100 h-5 md:h-6 rounded-full overflow-hidden border border-gray-200 shadow-inner"},W={key:0,class:"text-[9px] md:text-[10px] text-white font-black animate-pulse"},X={class:"flex justify-between mt-1.5 text-[10px] md:text-xs font-bold"},Z={class:"text-sky-500 uppercase tracking-widest truncate max-w-[150px]"},tt={class:"bg-gradient-to-br from-orange-400 to-pink-500 rounded-[2rem] p-5 md:p-6 shadow-xl text-white flex flex-row lg:flex-col items-center justify-between lg:justify-center border-4 border-white/20 relative overflow-hidden group"},et={class:"flex flex-col items-start lg:items-center"},st={class:"flex items-center gap-2"},at={class:"text-4xl md:text-6xl font-black drop-shadow-md"},nt={key:0},dt={class:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6"},rt={class:"flex-1 min-w-0"},it={key:0,class:"bg-blue-500 text-white px-3 py-1.5 rounded-full text-[10px] md:text-xs font-black shadow-blue-200 shadow-lg shrink-0"},lt={class:"flex-1 min-w-0"},ot={key:0,class:"bg-green-500 text-white px-3 py-1.5 rounded-full text-[10px] md:text-xs font-black shadow-green-200 shadow-lg shrink-0"},xt={class:"bg-white rounded-[2.5rem] p-5 md:p-8 shadow-xl border-4 border-sky-50 relative overflow-hidden"},gt={class:"flex flex-col md:flex-row md:items-center justify-between mb-6"},ut={class:"text-lg md:text-2xl font-black text-gray-700 flex items-center gap-2"},mt={class:"text-sky-500"},ct={class:"text-[10px] md:text-sm font-bold text-gray-400 bg-gray-50 px-3 py-1.5 rounded-lg border mt-2 md:mt-0"},bt={class:"text-sky-600"},ft={class:"grid grid-cols-3 gap-2 md:gap-4 mb-6"},pt={class:"bg-blue-50 rounded-2xl p-3 text-center border border-blue-100"},vt={class:"text-blue-700 font-black text-lg md:text-xl"},ht={class:"bg-green-50 rounded-2xl p-3 text-center border border-green-100"},wt={class:"text-green-700 font-black text-lg md:text-xl"},yt={class:"bg-orange-50 rounded-2xl p-3 text-center border border-orange-100"},kt={class:"text-orange-700 font-black text-lg md:text-xl"},Mt={class:"grid grid-cols-7 gap-1 md:gap-3 text-center mb-4"},St={key:1,class:"flex gap-0.5 items-center justify-center h-4 md:h-6"},jt={key:0,class:"text-[10px] md:text-lg",title:"Sikat Gigi OK"},Kt={key:1,class:"w-2 h-2 md:w-3 md:h-3 rounded-full bg-gray-200"},Dt={key:2,class:"text-[10px] md:text-lg",title:"Cuci Tangan OK"},_t={key:3,class:"w-2 h-2 md:w-3 md:h-3 rounded-full bg-gray-200"},Ct={key:4,class:"text-[10px] md:text-sm text-gray-400 font-bold"},Bt={class:"flex overflow-x-auto gap-4 pb-4 px-2 snap-x snap-mandatory md:grid md:grid-cols-3 md:overflow-visible"},$t={class:"bg-white rounded-[2.5rem] p-5 md:p-8 shadow-xl border-4 border-yellow-100 relative overflow-hidden"},Tt={class:"flex overflow-x-auto gap-4 pb-4 px-1 snap-x snap-mandatory md:grid md:grid-cols-4 lg:grid-cols-5 md:overflow-visible"},Lt=["src"],qt={class:"font-black text-gray-600 text-[10px] md:text-sm text-center px-1 leading-tight h-8 flex items-center"},zt={key:0,class:"mt-1 text-[9px] font-bold text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full whitespace-nowrap"},It={key:1,class:"mt-1 text-[9px] font-black text-green-500 bg-green-50 px-2 py-0.5 rounded-full border border-green-100"},Pt={key:0,class:"fixed inset-0 z-[60] flex items-center justify-center p-4"},Ft={class:"bg-white w-full max-w-md rounded-[2.5rem] p-6 md:p-8 shadow-2xl border-4 border-green-100 relative animate-in fade-in zoom-in duration-300 max-h-[90vh] flex flex-col"},Ot={__name:"Dashboard",props:{student:Object,availableBadges:Array,monthlyProgress:Object,currentDate:String,todaysMission:Object},setup(a){const o=a,u=new Date,_=u.toLocaleString("id-ID",{month:"long",year:"numeric"}),C=(i,e)=>new Date(i,e+1,0).getDate(),B=(i,e)=>new Date(i,e,1).getDay(),$=C(u.getFullYear(),u.getMonth()),T=B(u.getFullYear(),u.getMonth()),L=p(()=>{let i=[];for(let e=0;e<T;e++)i.push({date:null});for(let e=1;e<=$;e++){const s=`${u.getFullYear()}-${String(u.getMonth()+1).padStart(2,"0")}-${String(e).padStart(2,"0")}`,x=o.monthlyProgress[s]||[];let b="empty";x.length===2?b="perfect":x.length===1?b="partial":s<o.currentDate&&x.length===0&&(b="missed"),i.push({date:e,fullDate:s,activities:x,status:b})}return i}),v=p(()=>{let i=0,e=0,s=0;return Object.values(o.monthlyProgress).forEach(x=>{x.includes("brushing")&&i++,x.includes("handwashing")&&e++,x.length===2&&s++}),{brushing:i,handwashing:e,perfectDays:s}}),c=F(!1),M=p(()=>o.availableBadges.find(i=>o.student.total_points<i.required_points)||o.availableBadges[o.availableBadges.length-1]),h=p(()=>Math.min(o.student.total_points/M.value.required_points*100,100)),S=i=>{D.get(`/timer/${o.student.id}/${i}`)},w=i=>{D.get(`/quiz/${o.student.id}/${i}`)};return(i,e)=>(d(),n(f,null,[j(y(q),{title:"Petualangan Sehat"}),t("div",A,[e[33]||(e[33]=t("div",{class:"fixed top-0 left-0 text-[150px] md:text-[200px] opacity-5 -translate-x-1/2 -translate-y-1/2 pointer-events-none"},"â˜€ï¸",-1)),e[34]||(e[34]=t("div",{class:"fixed top-1/2 right-0 text-[100px] md:text-[150px] opacity-5 translate-x-1/2 pointer-events-none"},"â˜ï¸",-1)),t("nav",G,[e[9]||(e[9]=t("div",{class:"flex items-center gap-2"},[t("span",{class:"text-xl md:text-2xl"},"ğŸ’"),t("span",{class:"font-black text-sky-600 text-base md:text-lg"},"Petualangan Sehat")],-1)),j(y(I),{href:"/",method:"post",as:"button",class:"text-red-400 font-bold text-xs md:text-sm hover:text-red-600 hover:bg-red-50 px-3 py-1.5 rounded-full transition-colors border border-red-100"},{default:z(()=>[...e[8]||(e[8]=[m(" Keluar ğŸƒâ€â™‚ï¸ ",-1)])]),_:1})]),t("div",H,[t("div",N,[t("div",E,[e[12]||(e[12]=t("div",{class:"absolute top-0 right-0 bg-sky-100 w-24 h-24 rounded-bl-[100%] -mr-8 -mt-8 opacity-50"},null,-1)),t("div",U,[t("div",V,r(a.student.gender==="P"?"ğŸ‘§":"ğŸ‘¦"),1),t("div",Y," Kelas "+r(a.student.class),1)]),t("div",R,[t("h1",J,"Hai, "+r(a.student.name)+"! ğŸ‘‹",1),e[11]||(e[11]=t("p",{class:"text-gray-400 font-bold mb-3 md:mb-4 text-xs md:text-base"},"Siap basmi kuman hari ini?",-1)),t("div",Q,[t("div",{class:"bg-gradient-to-r from-sky-400 via-blue-400 to-indigo-500 h-full transition-all duration-1000 flex items-center justify-end pr-2",style:P({width:h.value+"%"})},[h.value>10?(d(),n("span",W,r(Math.round(h.value))+"%",1)):g("",!0)],4)]),t("div",X,[e[10]||(e[10]=t("span",{class:"text-gray-400"},"Mulai",-1)),t("span",Z,"Target: "+r(M.value.name),1)])])]),t("div",tt,[e[14]||(e[14]=t("div",{class:"absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity"},null,-1)),t("div",et,[e[13]||(e[13]=t("span",{class:"text-xs md:text-sm font-black uppercase opacity-80 tracking-widest mb-1"},"Total Bintang",-1)),t("div",st,[t("span",at,r(a.student.total_points),1)])]),e[15]||(e[15]=t("div",{class:"text-4xl md:text-5xl animate-bounce delay-75"},"ğŸŒŸ",-1))])]),a.todaysMission?(d(),n("div",nt,[e[16]||(e[16]=t("h3",{class:"text-lg md:text-2xl font-black text-gray-700 mb-4 flex items-center gap-2 px-1"},[t("span",null,"ğŸ“‹"),m(" Misi Hari Ini ")],-1)),t("div",dt,[t("div",{onClick:e[0]||(e[0]=s=>S("brushing")),class:l(["relative rounded-[2rem] p-4 md:p-5 flex items-center gap-3 md:gap-4 border-4 transition-all duration-200 cursor-pointer group shadow-sm active:scale-95",a.todaysMission.brushing?"bg-green-50 border-green-200":"bg-white border-blue-50 hover:border-blue-200 shadow-md"])},[t("div",{class:l(["w-14 h-14 md:w-16 md:h-16 rounded-full flex items-center justify-center text-2xl md:text-3xl border-4 shadow-sm shrink-0 transition-transform group-hover:scale-110",a.todaysMission.brushing?"bg-green-500 border-white text-white":"bg-blue-100 border-white"])},r(a.todaysMission.brushing?"âœ…":"ğŸª¥"),3),t("div",rt,[t("h4",{class:l(["text-base md:text-lg font-black truncate",a.todaysMission.brushing?"text-green-700":"text-gray-700"])},"Sikat Gigi",2),t("p",{class:l(["text-[10px] md:text-xs font-bold truncate",a.todaysMission.brushing?"text-green-600":"text-gray-400"])},r(a.todaysMission.brushing?"Hebat! Sudah selesai.":"Yuk, sikat gigimu sekarang!"),3)]),a.todaysMission.brushing?g("",!0):(d(),n("div",it,"MULAI â–¶"))],2),t("div",{onClick:e[1]||(e[1]=s=>S("handwashing")),class:l(["relative rounded-[2rem] p-4 md:p-5 flex items-center gap-3 md:gap-4 border-4 transition-all duration-200 cursor-pointer group shadow-sm active:scale-95",a.todaysMission.handwashing?"bg-green-50 border-green-200":"bg-white border-green-50 hover:border-green-200 shadow-md"])},[t("div",{class:l(["w-14 h-14 md:w-16 md:h-16 rounded-full flex items-center justify-center text-2xl md:text-3xl border-4 shadow-sm shrink-0 transition-transform group-hover:scale-110",a.todaysMission.handwashing?"bg-green-500 border-white text-white":"bg-green-100 border-white"])},r(a.todaysMission.handwashing?"âœ…":"ğŸ§¼"),3),t("div",lt,[t("h4",{class:l(["text-base md:text-lg font-black truncate",a.todaysMission.handwashing?"text-green-700":"text-gray-700"])},"Cuci Tangan",2),t("p",{class:l(["text-[10px] md:text-xs font-bold truncate",a.todaysMission.handwashing?"text-green-600":"text-gray-400"])},r(a.todaysMission.handwashing?"Tanganmu sudah bersih!":"Kuman pergi jauh-jauh!"),3)]),a.todaysMission.handwashing?g("",!0):(d(),n("div",ot,"MULAI â–¶"))],2)])])):g("",!0),t("div",xt,[t("div",gt,[t("h2",ut,[e[17]||(e[17]=m(" ğŸ“… Jurnal Kegiatan ",-1)),t("span",mt,r(y(_)),1)]),t("div",ct,[e[18]||(e[18]=m(" Hari ini: ",-1)),t("span",bt,r(a.currentDate),1)])]),t("div",ft,[t("div",pt,[e[19]||(e[19]=t("div",{class:"text-xl md:text-2xl mb-1"},"ğŸª¥",-1)),t("div",vt,r(v.value.brushing)+"x",1),e[20]||(e[20]=t("div",{class:"text-[9px] md:text-xs text-blue-400 font-bold uppercase"},"Sikat Gigi",-1))]),t("div",ht,[e[21]||(e[21]=t("div",{class:"text-xl md:text-2xl mb-1"},"ğŸ§¼",-1)),t("div",wt,r(v.value.handwashing)+"x",1),e[22]||(e[22]=t("div",{class:"text-[9px] md:text-xs text-green-400 font-bold uppercase"},"Cuci Tangan",-1))]),t("div",yt,[e[23]||(e[23]=t("div",{class:"text-xl md:text-2xl mb-1"},"ğŸ†",-1)),t("div",kt,r(v.value.perfectDays),1),e[24]||(e[24]=t("div",{class:"text-[9px] md:text-xs text-orange-400 font-bold uppercase"},"Hari Sempurna",-1))])]),t("div",Mt,[(d(),n(f,null,k(["Min","Sen","Sel","Rab","Kam","Jum","Sab"],s=>t("div",{key:s,class:"font-black text-gray-400 uppercase text-[10px] md:text-sm py-2"},r(s),1)),64)),(d(!0),n(f,null,k(L.value,(s,x)=>(d(),n("div",{key:x,class:l(["relative aspect-square rounded-xl md:rounded-2xl flex flex-col items-center justify-center border transition-all duration-300",[s.status==="perfect"?"bg-green-100 border-green-200":s.status==="partial"?"bg-yellow-50 border-yellow-200":s.status==="missed"?"bg-gray-100 border-gray-200 opacity-70":s.date?"bg-white border-slate-100":"bg-transparent border-transparent",s.fullDate===a.currentDate?"ring-4 ring-orange-400 ring-offset-2 z-10 shadow-lg":""]])},[s.date?(d(),n("span",{key:0,class:l(["text-xs md:text-base font-black mb-0.5",s.status==="missed"?"text-gray-400":"text-gray-600"])},r(s.date),3)):g("",!0),s.date?(d(),n("div",St,[s.activities.includes("brushing")?(d(),n("div",jt,"ğŸª¥")):s.status!=="empty"&&s.status!=="missed"?(d(),n("div",Kt)):g("",!0),s.activities.includes("handwashing")?(d(),n("div",Dt,"ğŸ§¼")):s.status!=="empty"&&s.status!=="missed"?(d(),n("div",_t)):g("",!0),s.status==="missed"?(d(),n("div",Ct,"âŒ")):g("",!0)])):g("",!0)],2))),128))]),e[25]||(e[25]=K('<div class="flex flex-wrap gap-3 justify-center pt-4 border-t border-gray-100" data-v-f7014342><div class="flex items-center gap-2" data-v-f7014342><div class="w-3 h-3 md:w-4 md:h-4 bg-green-100 border border-green-300 rounded-full" data-v-f7014342></div><span class="text-[10px] md:text-xs font-bold text-gray-500" data-v-f7014342>Lengkap (Hebat!)</span></div><div class="flex items-center gap-2" data-v-f7014342><div class="w-3 h-3 md:w-4 md:h-4 bg-yellow-50 border border-yellow-300 rounded-full" data-v-f7014342></div><span class="text-[10px] md:text-xs font-bold text-gray-500" data-v-f7014342>Kurang Lengkap</span></div><div class="flex items-center gap-2" data-v-f7014342><div class="w-3 h-3 md:w-4 md:h-4 bg-gray-100 border border-gray-300 rounded-full" data-v-f7014342></div><span class="text-[10px] md:text-xs font-bold text-gray-500" data-v-f7014342>Bolong/Lupa</span></div></div>',1))]),t("div",null,[e[29]||(e[29]=t("h3",{class:"text-lg md:text-2xl font-black text-gray-700 mb-4 flex items-center gap-2 px-1"},[t("span",null,"ğŸ§©"),m(" Tantangan Kuesioner ")],-1)),t("div",Bt,[t("div",{onClick:e[2]||(e[2]=s=>w("brushing")),class:"min-w-[160px] md:min-w-0 flex-1 snap-center bg-indigo-50 active:bg-indigo-100 cursor-pointer p-5 md:p-6 rounded-[2rem] border-2 border-indigo-100 active:scale-95 transition-transform text-center shadow-sm"},[...e[26]||(e[26]=[t("div",{class:"text-4xl md:text-5xl mb-3"},"ğŸ¦·",-1),t("h4",{class:"text-base md:text-xl font-black text-indigo-700 mb-1"},"Kuis Gigi",-1),t("p",{class:"text-indigo-400 text-[10px] md:text-xs font-bold"},"Cek ilmu gigimu!",-1)])]),t("div",{onClick:e[3]||(e[3]=s=>w("handwashing")),class:"min-w-[160px] md:min-w-0 flex-1 snap-center bg-teal-50 active:bg-teal-100 cursor-pointer p-5 md:p-6 rounded-[2rem] border-2 border-teal-100 active:scale-95 transition-transform text-center shadow-sm"},[...e[27]||(e[27]=[t("div",{class:"text-4xl md:text-5xl mb-3"},"ğŸ§¼",-1),t("h4",{class:"text-base md:text-xl font-black text-teal-700 mb-1"},"Kuis Tangan",-1),t("p",{class:"text-teal-400 text-[10px] md:text-xs font-bold"},"Lawan kuman!",-1)])]),t("div",{onClick:e[4]||(e[4]=s=>w("reproductive")),class:"min-w-[160px] md:min-w-0 flex-1 snap-center bg-pink-50 active:bg-pink-100 cursor-pointer p-5 md:p-6 rounded-[2rem] border-2 border-pink-100 active:scale-95 transition-transform text-center shadow-sm"},[...e[28]||(e[28]=[t("div",{class:"text-4xl md:text-5xl mb-3"},"â¤ï¸",-1),t("h4",{class:"text-base md:text-xl font-black text-pink-700 mb-1"},"Kuis Tubuh",-1),t("p",{class:"text-pink-400 text-[10px] md:text-xs font-bold"},"Jaga tubuhmu!",-1)])])])]),t("div",$t,[e[30]||(e[30]=t("h3",{class:"text-lg md:text-2xl font-black text-yellow-600 mb-4 flex items-center gap-2 relative z-10 px-1"},[t("span",null,"ğŸ†"),m(" Koleksi Lencana ")],-1)),t("div",Tt,[(d(!0),n(f,null,k(a.availableBadges,s=>(d(),n("div",{key:s.id,class:l(["flex flex-col items-center min-w-[100px] snap-center group transition-all duration-300",a.student.total_points<s.required_points?"opacity-50 grayscale":"hover:-translate-y-1"])},[t("div",{class:l(["w-20 h-20 md:w-24 md:h-24 bg-white rounded-full shadow-md border-4 border-gray-50 flex items-center justify-center p-3 mb-2 group-hover:shadow-lg transition-all",a.student.total_points>=s.required_points?"border-yellow-300":""])},[t("img",{src:`/storage/${s.image_path}`,class:"w-full h-full object-contain"},null,8,Lt)],2),t("span",qt,r(s.name),1),a.student.total_points<s.required_points?(d(),n("span",zt,r(s.required_points)+" â­",1)):(d(),n("span",It,"TERBUKA!"))],2))),128))])]),e[31]||(e[31]=t("div",{class:"text-center text-gray-400 text-[10px] font-bold tracking-widest uppercase"}," KKN 2026 KELOMPOK 8 UMPKU â€¢ Generasi Sehat ",-1))]),t("button",{onClick:e[5]||(e[5]=s=>c.value=!0),class:"fixed bottom-6 right-6 z-40 bg-green-500 hover:bg-green-600 text-white w-14 h-14 md:w-16 md:h-16 rounded-full shadow-lg border-4 border-white flex items-center justify-center text-3xl md:text-4xl animate-bounce cursor-pointer active:scale-90 transition-transform",title:"Bantuan"},"â”"),c.value?(d(),n("div",Pt,[t("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e[6]||(e[6]=s=>c.value=!1)}),t("div",Ft,[e[32]||(e[32]=K('<div class="text-center mb-6" data-v-f7014342><div class="text-5xl mb-2" data-v-f7014342>ğŸ“¢</div><h2 class="text-2xl font-black text-green-600" data-v-f7014342>Panduan Orang Tua</h2><p class="text-gray-400 font-bold text-xs" data-v-f7014342>Cara memantau kemajuan anak:</p></div><div class="overflow-y-auto custom-scrollbar space-y-4 pr-2 flex-1" data-v-f7014342><div class="bg-blue-50 p-4 rounded-2xl flex gap-3 items-center border border-blue-100" data-v-f7014342><div class="text-2xl" data-v-f7014342>ğŸ“…</div><div data-v-f7014342><h4 class="font-black text-blue-700 text-sm" data-v-f7014342>Cek Kalender</h4><p class="text-gray-600 text-xs font-medium" data-v-f7014342>Kotak <strong data-v-f7014342>Hijau</strong> artinya anak rajin (Sikat Gigi + Cuci Tangan). Kotak <strong data-v-f7014342>Merah</strong> artinya lupa.</p></div></div><div class="bg-orange-50 p-4 rounded-2xl flex gap-3 items-center border border-orange-100" data-v-f7014342><div class="text-2xl" data-v-f7014342>ğŸ†</div><div data-v-f7014342><h4 class="font-black text-orange-700 text-sm" data-v-f7014342>Target Bulanan</h4><p class="text-gray-600 text-xs font-medium" data-v-f7014342>Lihat angka di atas kalender. Usahakan &quot;Hari Sempurna&quot; semakin banyak!</p></div></div><div class="bg-green-50 p-4 rounded-2xl flex gap-3 items-center border border-green-100" data-v-f7014342><div class="text-2xl" data-v-f7014342>ğŸ“±</div><div data-v-f7014342><h4 class="font-black text-green-700 text-sm" data-v-f7014342>Bantu Klik</h4><p class="text-gray-600 text-xs font-medium" data-v-f7014342>Ingatkan anak untuk klik tombol &quot;MULAI&quot; setelah melakukan kegiatan.</p></div></div></div>',2)),t("button",{onClick:e[7]||(e[7]=s=>c.value=!1),class:"mt-6 w-full bg-green-500 text-white font-black py-3 rounded-2xl shadow-[0_4px_0_0_#15803d] active:shadow-none active:translate-y-1 transition-all"},"SIAP, SAYA MENGERTI! ğŸ‘Œ")])])):g("",!0)])],64))}},Ht=O(Ot,[["__scopeId","data-v-f7014342"]]);export{Ht as default};
